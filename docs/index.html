<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>OHI Global Assessment Guide</title>
  <meta name="description" content="A guide for conducting the OHI Global Assessment" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="OHI Global Assessment Guide" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="A guide for conducting the OHI Global Assessment" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="OHI Global Assessment Guide" />
  
  <meta name="twitter:description" content="A guide for conducting the OHI Global Assessment" />
  

<meta name="author" content="OHI Team" />


<meta name="date" content="2023-06-26" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  

<link rel="next" href="starting-a-new-year.html"/>
<script src="libs/header-attrs-2.10/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="lib/css/bootstrap.min.css" type="text/css" />
<link rel="stylesheet" href="lib/css/style.css" type="text/css" />
<link rel="stylesheet" href="lib/css/lesson.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">OHI Global Guide</a></li>

<li class="divider"></li>
<li><a href="index.html#Overview" id="toc-Overview"><span class="toc-section-number">1</span> Overview</a>
<ul>
<li><a href="index.html#repositories-used-to-calculate-the-global-assessment" id="toc-repositories-used-to-calculate-the-global-assessment"><span class="toc-section-number">1.1</span> Repositories used to calculate the global assessment</a>
<ul>
<li><a href="index.html#ohiprep_v20" id="toc-ohiprep_v20"><span class="toc-section-number">1.1.1</span> ohiprep_v20??</a></li>
<li><a href="index.html#ohi-global" id="toc-ohi-global"><span class="toc-section-number">1.1.2</span> ohi-global</a></li>
<li><a href="index.html#ohicore" id="toc-ohicore"><span class="toc-section-number">1.1.3</span> ohicore</a></li>
<li><a href="index.html#globalfellows-issues" id="toc-globalfellows-issues"><span class="toc-section-number">1.1.4</span> globalfellows-issues</a></li>
</ul></li>
</ul></li>
<li><a href="starting-a-new-year.html#starting-a-new-year" id="toc-starting-a-new-year"><span class="toc-section-number">2</span> Starting a new year</a>
<ul>
<li><a href="starting-a-new-year.html#review-and-organize-relevant-issues" id="toc-review-and-organize-relevant-issues"><span class="toc-section-number">2.1</span> Review and organize relevant issues</a></li>
<li><a href="starting-a-new-year.html#prepare-the-repositories" id="toc-prepare-the-repositories"><span class="toc-section-number">2.2</span> Prepare the repositories!</a>
<ul>
<li><a href="starting-a-new-year.html#ohiprep-repository" id="toc-ohiprep-repository"><span class="toc-section-number">2.2.1</span> ohiprep repository</a></li>
<li><a href="starting-a-new-year.html#ohi-global-1" id="toc-ohi-global-1"><span class="toc-section-number">2.2.2</span> ohi-global</a></li>
</ul></li>
<li><a href="starting-a-new-year.html#keeping-track-of-layer-progress" id="toc-keeping-track-of-layer-progress"><span class="toc-section-number">2.3</span> Keeping track of layer progress</a></li>
</ul></li>
<li><a href="data-prep.html#data-prep" id="toc-data-prep"><span class="toc-section-number">3</span> Data Prep</a>
<ul>
<li><a href="data-prep.html#file-organization" id="toc-file-organization"><span class="toc-section-number">3.1</span> File organization</a>
<ul>
<li><a href="data-prep.html#saving-external-data" id="toc-saving-external-data"><span class="toc-section-number">3.1.1</span> Saving external data</a></li>
<li><a href="data-prep.html#vpn-setup-to-access-mazu" id="toc-vpn-setup-to-access-mazu"><span class="toc-section-number">3.1.2</span> VPN Setup to Access Mazu</a></li>
<li><a href="data-prep.html#setting-up-rstudio-mazu-server" id="toc-setting-up-rstudio-mazu-server"><span class="toc-section-number">3.1.3</span> Setting up Rstudio Mazu Server</a></li>
<li><a href="data-prep.html#using-cyberduck-or-filezilla-to-transfer-large-files" id="toc-using-cyberduck-or-filezilla-to-transfer-large-files"><span class="toc-section-number">3.1.4</span> Using Cyberduck or Filezilla to Transfer Large Files</a></li>
<li><a href="data-prep.html#globalprep-files" id="toc-globalprep-files"><span class="toc-section-number">3.1.5</span> globalprep files</a></li>
<li><a href="data-prep.html#intermediate-files-that-are-too-large-for-github" id="toc-intermediate-files-that-are-too-large-for-github"><span class="toc-section-number">3.1.6</span> Intermediate files that are too large for Github</a></li>
</ul></li>
<li><a href="data-prep.html#starting-a-new-data-prep-project" id="toc-starting-a-new-data-prep-project"><span class="toc-section-number">3.2</span> Starting a new data prep project</a>
<ul>
<li><a href="data-prep.html#prepare-the-dataprep-folder" id="toc-prepare-the-dataprep-folder"><span class="toc-section-number">3.2.1</span> Prepare the dataprep folder</a></li>
<li><a href="data-prep.html#start-an-issue" id="toc-start-an-issue"><span class="toc-section-number">3.2.2</span> Start an issue</a></li>
<li><a href="data-prep.html#update-the-files" id="toc-update-the-files"><span class="toc-section-number">3.2.3</span> Update the files</a></li>
</ul></li>
<li><a href="data-prep.html#a-typical-data-prep-script" id="toc-a-typical-data-prep-script"><span class="toc-section-number">3.3</span> A typical data prep script</a></li>
<li><a href="data-prep.html#prep-rmd-1.-summary" id="toc-prep-rmd-1.-summary"><span class="toc-section-number">3.4</span> prep Rmd: 1. Summary</a></li>
<li><a href="data-prep.html#prep-rmd-2.-updates" id="toc-prep-rmd-2.-updates"><span class="toc-section-number">3.5</span> prep Rmd: 2. Updates</a></li>
<li><a href="data-prep.html#prep-rmd-3.-data-sources" id="toc-prep-rmd-3.-data-sources"><span class="toc-section-number">3.6</span> prep Rmd: 3. Data sources</a></li>
<li><a href="data-prep.html#prep-rmd-4.-set-up" id="toc-prep-rmd-4.-set-up"><span class="toc-section-number">3.7</span> prep Rmd: 4. Set up</a>
<ul>
<li><a href="data-prep.html#packages" id="toc-packages"><span class="toc-section-number">3.7.1</span> Packages</a></li>
<li><a href="data-prep.html#common.r" id="toc-common.r"><span class="toc-section-number">3.7.2</span> common.R</a></li>
</ul></li>
<li><a href="data-prep.html#prep-rmd-5.-data-prep" id="toc-prep-rmd-5.-data-prep"><span class="toc-section-number">3.8</span> prep Rmd: 5. Data prep</a>
<ul>
<li><a href="data-prep.html#ohi-data-idiosyncracies-low-populationuninhabited-regions-and-grouped-regions" id="toc-ohi-data-idiosyncracies-low-populationuninhabited-regions-and-grouped-regions"><span class="toc-section-number">3.8.1</span> OHI data idiosyncracies: Low population/uninhabited regions and grouped regions</a></li>
</ul></li>
<li><a href="data-prep.html#prep-rmd-6.-gapfilling" id="toc-prep-rmd-6.-gapfilling"><span class="toc-section-number">3.9</span> prep Rmd: 6. Gapfilling</a>
<ul>
<li><a href="data-prep.html#training-linear-models-for-gapfilling" id="toc-training-linear-models-for-gapfilling"><span class="toc-section-number">3.9.1</span> Training linear models for gapfilling</a></li>
<li><a href="data-prep.html#saving-gapfilling-report-files" id="toc-saving-gapfilling-report-files"><span class="toc-section-number">3.9.2</span> Saving gapfilling report files</a></li>
</ul></li>
<li><a href="data-prep.html#prep-rmd-7.-results-check" id="toc-prep-rmd-7.-results-check"><span class="toc-section-number">3.10</span> prep Rmd: 7. Results check</a></li>
<li><a href="data-prep.html#prep-rmd-8.-final-run" id="toc-prep-rmd-8.-final-run"><span class="toc-section-number">3.11</span> prep Rmd: 8. Final run</a></li>
<li><a href="data-prep.html#notes-on-parallel-processing" id="toc-notes-on-parallel-processing"><span class="toc-section-number">3.12</span> Notes on parallel processing</a>
<ul>
<li><a href="data-prep.html#stopcluster-makecluster" id="toc-stopcluster-makecluster"><span class="toc-section-number">3.12.1</span> stopCluster &amp; makeCluster</a></li>
<li><a href="data-prep.html#using-htop-to-check-on-processes-running" id="toc-using-htop-to-check-on-processes-running"><span class="toc-section-number">3.12.2</span> Using htop to check on processes running</a></li>
</ul></li>
</ul></li>
<li><a href="updating-scores.html#updating-scores" id="toc-updating-scores"><span class="toc-section-number">4</span> Updating scores</a></li>
<li><a href="finalizing-the-global-assessment.html#finalizing-the-global-assessment" id="toc-finalizing-the-global-assessment"><span class="toc-section-number">5</span> Finalizing the global assessment</a>
<ul>
<li><a href="finalizing-the-global-assessment.html#create-results-folder" id="toc-create-results-folder"><span class="toc-section-number">5.1</span> Create results folder</a></li>
<li><a href="finalizing-the-global-assessment.html#final-score-review" id="toc-final-score-review"><span class="toc-section-number">5.2</span> Final score review</a></li>
<li><a href="finalizing-the-global-assessment.html#citation-management" id="toc-citation-management"><span class="toc-section-number">5.3</span> Citation management</a>
<ul>
<li><a href="finalizing-the-global-assessment.html#getting-zotero-and-rstudio-to-work-well-together" id="toc-getting-zotero-and-rstudio-to-work-well-together"><span class="toc-section-number">5.3.1</span> Getting Zotero and RStudio to work well together</a></li>
<li><a href="finalizing-the-global-assessment.html#working-with-zotero" id="toc-working-with-zotero"><span class="toc-section-number">5.3.2</span> Working with Zotero</a></li>
</ul></li>
<li><a href="finalizing-the-global-assessment.html#methods-document" id="toc-methods-document"><span class="toc-section-number">5.4</span> Methods document</a>
<ul>
<li><a href="finalizing-the-global-assessment.html#steps-to-updating-methods-document" id="toc-steps-to-updating-methods-document"><span class="toc-section-number">5.4.1</span> Steps to updating methods document</a></li>
</ul></li>
<li><a href="finalizing-the-global-assessment.html#results-document" id="toc-results-document"><span class="toc-section-number">5.5</span> Results document</a></li>
<li><a href="finalizing-the-global-assessment.html#update-esri-living-atlas-of-the-world-ohi-map" id="toc-update-esri-living-atlas-of-the-world-ohi-map"><span class="toc-section-number">5.6</span> Update ESRI Living Atlas of the World OHI map</a></li>
<li><a href="finalizing-the-global-assessment.html#github-releases" id="toc-github-releases"><span class="toc-section-number">5.7</span> Github Releases</a></li>
<li><a href="finalizing-the-global-assessment.html#upload-to-a-repository" id="toc-upload-to-a-repository"><span class="toc-section-number">5.8</span> Upload to a repository</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">OHI Global Assessment Guide</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="header">
<h1 class="title">OHI Global Assessment Guide</h1>
<p class="author"><em>OHI Team</em></p>
<p class="date"><em>2023-06-26</em></p>
</div>
<div id="Overview" class="section level1" number="1">
<h1><span class="header-section-number">Chapter 1</span> Overview</h1>
<p>This guide is a resource for calculating the annual Ocean Health Index global assessments. It is intended for use by OHI fellows and anyone interested in the process of how scores are calculated, but only those with access to the internal server (Mazu) are able to actually perform the assessment.</p>
<p>By conducting a yearly assessment, the OHI delivers information about a suite of goals important to humans and our use of the oceans. The OHI methods are reproducible and ever-evolving, so updates to this guide are welcomed as improvements and upgrades are incorporated.</p>
<p><strong>Content covered in the following chapters includes:</strong></p>
<ul>
<li>How to initialize a new assessment</li>
<li>Thorough instructions for data prep, including how to:
<ul>
<li>Access and organize files</li>
<li>Structure data prep scripts</li>
<li>Gapfill data</li>
<li>Check results</li>
</ul></li>
<li>Update data layers to OHI global and recalculate scores</li>
<li>Finalize the assessment, including how to:
<ul>
<li>Review scores</li>
<li>Create bibliography</li>
<li>Update metadata</li>
<li>Create methods and results documents</li>
<li>Upload to repository</li>
</ul></li>
</ul>
<!--- TODO Gage add important fig here (just kidding this is just an example)  --->
<div id="repositories-used-to-calculate-the-global-assessment" class="section level2" number="1.1">
<h2><span class="header-section-number">1.1</span> Repositories used to calculate the global assessment</h2>
<p>The OHI uses GitHub repositories (repos) to organize all of the associated data prep scripts, functions/packages, and score calculation materials for each assessment year. There are separate repositories for different parts of the project, which are detailed here. Practicioners of the assessment will clone all repositories to their RStudio workspace, but mainly work in the ohiprep_v20?? repository.</p>
<p><img src="https://docs.google.com/drawings/d/e/2PACX-1vSry72oHC5HOEbt-tcF_SBRdEJyljC-SVWVuQbnuZcIMANi23XvMgBQkykRjqZST7vz-PeZoHYbizyd/pub?w=842&amp;h=671" /></p>
<p><em><a href="https://github.com/OHI-Science">OHI github page</a></em></p>
<div id="ohiprep_v20" class="section level3" number="1.1.1">
<h3><span class="header-section-number">1.1.1</span> ohiprep_v20??</h3>
<p>Scripts and intermediate files used to prepare the data layers used by the OHI model are included in this repo. Each year a new version of this repository is created by copying over the previous assessment’s repository contents and deleting the history (more on that later). The suffix of the repo name indicates the year of the assessment (e.g. for 2019, the repo name was ohiprep_v2019)</p>
<p><strong>Contents:</strong></p>
<table>
<colgroup>
<col width="28%" />
<col width="71%" />
</colgroup>
<thead>
<tr class="header">
<th>folder</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>globalprep</td>
<td>Contains R markdown (Rmd) scripts used to prepare all goal, pressure, and resilience data layers. Files are organized by individual data layer, and contain all data, prep scripts, and any other files from previous assessment years in addition to the current assessment year.</td>
</tr>
<tr class="even">
<td>Reference</td>
<td>handy reference materials used throughout the global assessmeent</td>
</tr>
<tr class="odd">
<td>workflow</td>
<td>Rmd templates, sourced files, and functions used throughout data preparation</td>
</tr>
</tbody>
</table>
</div>
<div id="ohi-global" class="section level3" number="1.1.2">
<h3><span class="header-section-number">1.1.2</span> ohi-global</h3>
<p>This repo contains data layers, supplementary information, models, and scripts used to calculate the global scores. The contents of this repository are updated each time a data layer in ohiprep_v20?? is completed.</p>
<p><strong>Contents:</strong></p>
<table>
<colgroup>
<col width="28%" />
<col width="71%" />
</colgroup>
<thead>
<tr class="header">
<th>folder</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>eez</td>
<td>global models and data</td>
</tr>
<tr class="even">
<td>eez/layers</td>
<td>data layers used in the models (data are copied from ohiprep using paths from metadata_documentation/layers_eez_base.csv)</td>
</tr>
<tr class="odd">
<td>eez/conf</td>
<td>models and supplementary data used to calculate scores</td>
</tr>
<tr class="even">
<td>eez/calculate_scores.R</td>
<td>master script used to calculate scores</td>
</tr>
<tr class="odd">
<td>eez/scores.csv</td>
<td>score output from calculate_scores.R (includes all score dimensions for each goal and country)</td>
</tr>
<tr class="even">
<td>metadata_documentation</td>
<td>csv files describing data layers</td>
</tr>
<tr class="odd">
<td>yearly_results</td>
<td>reporting on results of each year’s OHI assessment</td>
</tr>
<tr class="even">
<td>documents</td>
<td>files used to create OHI methods document</td>
</tr>
</tbody>
</table>
</div>
<div id="ohicore" class="section level3" number="1.1.3">
<h3><span class="header-section-number">1.1.3</span> ohicore</h3>
<p>This is an R package that includes the core functions used in all assessments. See <a href="http://ohi-science.org/ohicore/">package description</a> for more information.</p>
</div>
<div id="globalfellows-issues" class="section level3" number="1.1.4">
<h3><span class="header-section-number">1.1.4</span> globalfellows-issues</h3>
<p>This repository was created in 2018 for the first cohort of Global Fellows, and is used to communicate about the data prep process for each layer, document reference information, share ideas, and keep track of progress on tasks. This repository is used just for writing issues, and is separate from the other repositories where data prep occurs. More information about communicating via issues is found throughout this guide.</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>

<a href="starting-a-new-year.html" class="navigation navigation-next navigation-unique" aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/OHI-Science/ohi-global-guide/edit/master/index.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["series.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
